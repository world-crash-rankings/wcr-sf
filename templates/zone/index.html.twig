{% extends 'base.html.twig' %}
{% import 'zone/_macros.html.twig' as macros %}
{% import 'zone/_zone_header.html.twig' as zone_header %}

{% block title %}{{ zone.name }} - Scores - World Crash Rankings{% endblock %}

{% block meta_description %}{{ zone.name }} - Burnout 2 Crash Mode rankings. Top 25 scores{% if topscores[0] is defined %}, world record: ${{ topscores[0].score|number_format(0, '.', ',') }} held by {{ topscores[0].player.name }}{% endif %}. View NGS, freeze, and sink scores.{% endblock %}

{% block meta_keywords %}{{ zone.name }}, burnout 2 zone, crash mode {{ zone.name }}, world record{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Place",
  "name": "{{ zone.name }}",
  "description": "{{ zone.description }}",
  "url": "{{ url('zone', {id: zone.id}) }}"
}
</script>
{% endblock %}

{% block body %}
{{ zone_header.header(zone, 'scores') }}

{# WCR Top 25 #}
<h1 class="text-center">WCR Top 25</h1>
<table class="table table-hover table-sm">
    <tbody>
        {% for score in topscores %}
            {{ macros.score_row(score.chartRank, score) }}
        {% endfor %}
    </tbody>
</table>

{# Non Glitch Top 10 (only if zone has glitch) #}
{% if zone.glitch and ngs|length > 0 %}
<h1 class="text-center">Non Glitch Top 10</h1>
<table class="table table-hover table-sm">
    <tbody>
        {% for score in ngs %}
            {{ macros.score_row(loop.index, score, false) }}
        {% endfor %}
    </tbody>
</table>
{% endif %}

{# Freezes #}
{% if freezes|length > 0 %}
<h1 class="text-center">Freezes</h1>
<table class="table table-sm">
    <tbody>
        {% for score in freezes %}
            {{ macros.score_row(loop.index, score, false) }}
        {% endfor %}
    </tbody>
</table>
{% endif %}

{# Sink Glitch Top 10 #}
{% if sinks|length > 0 %}
<h1 class="text-center">Sink Glitch Top 10</h1>
<table class="table table-hover table-sm">
    <tbody>
        {% for score in sinks %}
            {{ macros.score_row(loop.index, score, false) }}
        {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}
